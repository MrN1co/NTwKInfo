{% extends 'base.html' %}

{% block title %}NTWKInfo - BÄ…dÅº na czasie{% endblock %}

{% block head %}
  {# Additional head elements (fonts are included in base.html) #}
{% endblock %}

{% block content %}
  <main class="main-content container-padding">
    <section class="content-grid">
      <div class="left-column">
          <div id="calendarWidget" class="calendar-widget" aria-live="polite" style="margin-bottom:12px;">
            <div class="calendar-icon">
              <div class="calendar-month" id="calendarMonth">--</div>
              <div class="calendar-day" id="calendarDay">--</div>
            </div>
            <div class="calendar-info">
              <div class="calendar-date" id="calendarDate">ÅadujÄ™...</div>
              <div class="calendar-fact" id="calendarFact">ÅadujÄ™ ciekawostkÄ™...</div>
            </div>
          </div>
        <section class="main-article-carousel">
          <div class="carousel-container">
            {% if news_list %}
              {% for item in news_list %}
              <article class="carousel-slide {% if loop.first %}active{% endif %}">
                
                <h1 class="main-article__title"><a href="{{ item.link }}" target="_blank" rel="noopener noreferrer">{{ item.title }}</a></h1>
                <div class="main-article__image-container">
                <div class="image-placeholder">
                  {% if item.image %}
                    {% if item.link %}
                      <a href="{{ item.link }}" target="_blank" rel="noopener noreferrer">
                        <img src="{{ item.image }}" 
                            alt="{{ item.title }}" 
                            class="image-placeholder"
                            onerror="this.style.display='none'; this.parentElement.nextElementSibling.style.display='flex';">
                      </a>
                      <div class="image-placeholder" style="display:none;">Brak zdjÄ™cia</div>
                    {% else %}
                      <img src="{{ item.image }}" 
                          alt="{{ item.title }}" 
                          class="image-placeholder"
                          onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                      <div class="image-placeholder" style="display:none;">Brak zdjÄ™cia</div>
                    {% endif %}
                  {% else %}
                    Brak zdjÄ™cia
                  {% endif %}
                </div>
                <div class="main-article__header"><span>{{ item.published or item.date or '' }}</span></div>
                <div class="main-article__caption">
                  {{ item.summary or item.excerpt or '' }}
                </div>
              </div>
              </article>
              {% endfor %}
            {% else %}
              <article class="carousel-slide active">
                <div class="main-article__header"><span>brak aktualnych wiadomoÅ›ci</span></div>
                <h1 class="main-article__title">Brak wiadomoÅ›ci</h1>
                <div class="main-article__image-container">
                  <div class="image-placeholder">Brak zdjÄ™cia</div>
                  <div class="main-article__caption">SprÃ³buj odÅ›wieÅ¼yÄ‡ stronÄ™ pÃ³Åºniej.</div>
                </div>
              </article>
            {% endif %}
            <button class="carousel-button prev">â€¹</button>
            <button class="carousel-button next">â€º</button>
          </div>
        </section>
      </div>
      <div class="right-column">
        <section class="weather-box">
          <div>
            <div class="weather-box__city">KrakÃ³w</div>
            <div class="weather-box__temp">24Â°C</div>
            <div class="weather-box__details"><span>Zachmurzenie</span><span> Od 18Â°C do 25Â°C</span></div>
          </div>
          <div class="weather-box__icon">ğŸŒ§ï¸</div>
        </section>
        <section class="exchange-rates">
          <h2 class="exchange-rates__title">Aktualne kursy walut:</h2>
          <div class="exchange-rates__table">
            <div class="exchange-rates__header">
              <span class="cell">Waluta</span><span class="cell">Kupno</span><span class="cell">SprzedaÅ¼</span>
            </div>
            <div class="rate-list">
              <div class="rate-item"><span class="cell">USD</span><span class="cell">4.10</span><span class="cell">4.25</span></div>
              <div class="rate-item"><span class="cell">EUR</span><span class="cell">4.45</span><span class="cell">4.60</span></div>
              <div class="rate-item"><span class="cell">GBP</span><span class="cell">5.20</span><span class="cell">5.35</span></div>
              <div class="rate-item"><span class="cell">CHF</span><span class="cell">4.65</span><span class="cell">4.80</span></div>
            </div>
          </div>
        </section>
      </div>
    </section>
  </main>
{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='js/script-carousel.js') }}"></script>
  <script src="{{ url_for('static', filename='js/script-auth.js') }}"></script>
  <script src="{{ url_for('static', filename='js/script-calendar.js') }}"></script>
{% endblock %}
