{% extends 'base.html' %}

{% block title %}NTWKInfo - BƒÖd≈∫ na czasie{% endblock %}

{% block head %}
  {# Dodatkowe elementy head (czcionki sƒÖ zawarte w base.html) #}
{% endblock %}

{% block content %}
  <!-- G≈Ç√≥wna zawarto≈õƒá strony domowej -->
  <main class="main-content container-padding">
    <!-- G≈Ç√≥wny grid (2 kolumny: artyku≈Ç + pogoda/kursy) -->
    <section class="content-grid">
      <!-- LEWA KOLUMNA: Karuzela artyku≈Ç√≥w/wiadomo≈õci -->
      <div class="left-column">
        <section class="main-article-carousel">
          <!-- Kontener z przyciskami nawigacji karuzeli -->
          <div class="carousel-container">
            {% if news_list %}
              <!-- Pƒôtla po listcie wiadomo≈õci - wy≈õwietlenie ka≈ºdego artyku≈Çu jako slajdu karuzeli -->
              {% for item in news_list %}
              <article class="carousel-slide {% if loop.first %}active{% endif %}">
                <!-- Nag≈Ç√≥wek artyku≈Çu z datƒÖ publikacji -->
                <div class="main-article__header"><span>{{ item.published or item.date or '' }}</span></div>
                
                <!-- Tytu≈Ç artyku≈Çu ze linkiem do ≈∫r√≥d≈Ça -->
                <h1 class="main-article__title"><a href="{{ item.link }}" target="_blank" rel="noopener noreferrer">{{ item.title }}</a></h1>
                
                <!-- Kontener na zdjƒôcie artyku≈Çu -->
                <div class="main-article__image-container">
                <div class="image-placeholder">
                  {% if item.image %}
                    <!-- Je≈õli zdjƒôcie istnieje, wy≈õwietl je (z fallbackiem na brak zdjƒôcia) -->
                    {% if item.link %}
                      <a href="{{ item.link }}" target="_blank" rel="noopener noreferrer">
                        <img src="{{ item.image }}" 
                            alt="{{ item.title }}" 
                            class="image-placeholder"
                            onerror="this.style.display='none'; this.parentElement.nextElementSibling.style.display='flex';">
                      </a>
                      <div class="image-placeholder" style="display:none;">Brak zdjƒôcia</div>
                    {% else %}
                      <img src="{{ item.image }}" 
                          alt="{{ item.title }}" 
                          class="image-placeholder"
                          onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                      <div class="image-placeholder" style="display:none;">Brak zdjƒôcia</div>
                    {% endif %}
                  {% else %}
                    <!-- Fallback gdy brak zdjƒôcia -->
                    Brak zdjƒôcia
                  {% endif %}
                </div>
                
                <!-- Streszczenie/opis artyku≈Çu -->
                <div class="main-article__caption">
                  {{ item.summary or item.excerpt or '' }}
                </div>
              </div>
              </article>
              {% endfor %}
            {% else %}
              <!-- Komunikat gdy brak wiadomo≈õci -->
              <article class="carousel-slide active">
                <div class="main-article__header"><span>brak aktualnych wiadomo≈õci</span></div>
                <h1 class="main-article__title">Brak wiadomo≈õci</h1>
                <div class="main-article__image-container">
                  <div class="image-placeholder">Brak zdjƒôcia</div>
                  <div class="main-article__caption">Spr√≥buj od≈õwie≈ºyƒá stronƒô p√≥≈∫niej.</div>
                </div>
              </article>
            {% endif %}
            
            <!-- Przyciski nawigacji karuzeli (poprzednia/nastƒôpna) -->
            <button class="carousel-button prev">‚Äπ</button>
            <button class="carousel-button next">‚Ä∫</button>
          </div>
        </section>
      </div>

      <!-- PRAWA KOLUMNA: Pogoda i kursy walut -->
      <div class="right-column">
        <!-- SEKCJA POGODY -->
        <section class="weather-box">
          <div>
            <div class="weather-box__city">Krak√≥w</div>
            <div class="weather-box__temp">24¬∞C</div>
            <div class="weather-box__details"><span>Zachmurzenie</span><span> Od 18¬∞C do 25¬∞C</span></div>
          </div>
          <div class="weather-box__icon">üåßÔ∏è</div>
        </section>

        <!-- SEKCJA KURS√ìW WALUT -->
        <section class="exchange-rates">
          <h2 class="exchange-rates__title">Aktualne kursy walut:</h2>
          <div class="exchange-rates__table">
            <!-- Nag≈Ç√≥wek tabeli z kolumnami -->
            <div class="exchange-rates__header">
              <span class="cell">Waluta</span><span class="cell">Kupno</span><span class="cell">Sprzeda≈º</span>
            </div>
            <!-- Listy kurs√≥w walut (4 g≈Ç√≥wne waluty) -->
            <div class="rate-list">
              <div class="rate-item"><span class="cell">USD</span><span class="cell">4.10</span><span class="cell">4.25</span></div>
              <div class="rate-item"><span class="cell">EUR</span><span class="cell">4.45</span><span class="cell">4.60</span></div>
              <div class="rate-item"><span class="cell">GBP</span><span class="cell">5.20</span><span class="cell">5.35</span></div>
              <div class="rate-item"><span class="cell">CHF</span><span class="cell">4.65</span><span class="cell">4.80</span></div>
            </div>
          </div>
        </section>
      </div>
    </section>
  </main>
{% endblock %}

{% block scripts %}
  <!-- Skrypt obs≈ÇugujƒÖcy karuzelƒô artyku≈Ç√≥w -->
  <script src="{{ url_for('static', filename='js/script-carousel.js') }}"></script>
  <!-- Skrypt obs≈ÇugujƒÖcy logowanie i rejestracjƒô -->
  <script src="{{ url_for('static', filename='js/script-auth.js') }}"></script>
{% endblock %}
